# 2019.1월 이전 또는 16회 이전 정보보안기사 문제

----------------------------------------------------------------------

## 1. 멤캐시드(맴캐시드, Memcached)
#### Memcached는 범용 분산 캐시 시스템이다. 외부 데이터 소스의 읽기 횟수를 줄이기 위해 데이터와 객체들을 RAM에 캐시 처리함으로써 동적 데이터베이스 드리븐 웹사이트의 속도를 높이기 위해 종종 사용된다.MySQL, 오라클 코히어런스 GigaSpace XAP 등에서 주로 이용되며, 기본 포트로는 TCP, UDP 11211번을 사용한다.
#### 원래는 외부에 노출되지 않게 관리되어야 하지만 관리소홀로 인해 생각보다 외부에 노출된 서버가 많다고 한다. 게다가 더 큰 문제는 인증 과정이 없다는 것이다. 따라서 이를 이용한 DDOS(정확하게는 DRDOS) 공격이 많이 발생했다.멤캐시드를 통해 서버를 익스플로잇(exploit)하면 데이터 변조 및 탈취, DDOS 공격 등이 가능한 것으로 알려져 있다. 멤캐시드를 이용한 DDOS 공격은 이론상으로는 최대 5만 배까지의 증폭이 가능한데 2018년 해외 오픈소스 소프트웨어 개발 커뮤니티인 '깃허브(GitHub)'에도 공격한 이력이 있다.
#### 이에 대해 보안 업체 코레로 네트워크 시큐리티(Corero Network Security)가 DDOS 공격의 킬스위치(공격의 일련과정 끊기라고 이해하면 된다)를 발견했다고 한다. 코레로와의 인터뷰에 따르면 이는 명령을 공격 서버로 되돌려보내 디도스 익스플로잇을 억제하는 것이라고 한다. 하지만 무엇보다도 멤캐시드를 로컬 인터페이스에 연결시키고 UDP를 비활성화시키며, 기존 네트워크 보안 수칙을 지키는 것이 먼저라고 한다.

* 참고: <https://ko.wikipedia.org/wiki/Memcached> , <https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=ntower&logNo=221246912697> , <https://www.boannews.com/media/view.asp?idx=67356&kind=1>

----------------------------------------------------------------------

## 2. 쇼단(Shodan)
#### 쇼단은 인터넷의 모든 것을 위한 검색엔진이다. 보통의 검색엔진은 웹만 인덱싱하지만 쇼단은 웹캠, 정수 처리장, 요트, 의료 장비, 신호등, 풍력 발전기 등 인터넷에 연결 가능한 모든 것에 대해 인덱싱이 가능하다. 이를 통해 쇼단은 취약점 진단용으로 외부사이트에 의한 시스템 운영정보 노출 여부에 대해 판단을 하는데 사용되거나, IoT 기기 등에 접속 용도에 이용된다.
#### 쇼단 검색 사용법이나 쇼단을 통한 방어 등은 참고자료에 기록되어 있다.

* 참고: <https://itinformation.tistory.com/71> , <https://www.itworld.co.kr/news/109541>

----------------------------------------------------------------------

## 3. SSDP(Simple Service Discovery Protocol)
#### SSDP는 네트워크 프로토콜에 기초하여 인터넷 프로토콜 스위트 광고 및 네트워크 서비스 및 현재 상태 정보의 발견을 위해 사용되는 프로토콜이다. SSDP는 소규모 환경에서 UPnP(Universal Plug and Play)를 위한 기본적인 프로토콜로 사용되고 있다. SSDP는 HTTPU(UDP 기반의 HTTP)를 이용하여 헤더 필드 구성과 같은 점은 HTTP와 유사한 점이 많다. 포트는 UDP 1900번을 사용한다. SSDP는 Advertisement, Search 두 개의 타입이 있는데, 각각 NOTIFY와 M-SEARCH라는 메소드를 사용한다.
#### IoT기기에서 DRDOS의 매개체로 사용되기도 하는 프로토콜이다. source IP를 조작하여 M-SEARCH 요청을 SSDP가 허용된 IoT 기기 네트워크 대역(서버)에 보냄으로써 희생자를 DOS 상태에 빠지게 한다.

* 참고: <https://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol> , <https://rakuraku.tistory.com/120>

----------------------------------------------------------------------

## 4. 다크웹과 딥웹 구분(Dark Web vs Deep Web)
#### 표층웹(Surface Web)은 우리가 일반적으로 검색엔진 등을 통해서 검색이 가능한 웹 사이트들을 말한다.
#### 이와 달리 딥웹은 검색엔진으로 찾아지지 않는 사이트들을 말한다. 불법적인 사이트들뿐만 아니라 회사 DB사이트, 웹메일 페이지 등도 딥웹에 포함된다. 다크웹은 딥웹에 한 종류로 암호화된 네트워크에 존재하는 사이들을 말한다. 대부분의 사이트는 실크 로드 리로디드(Silk Road Reloaded)나 토르(Tor)와 같은 암호화 툴을 사용해 정체를 감춘다. 다크웹의 주 용도는 마약 매매, 포르노 유통, 총기 구매 등 합법적이지 않은 거래 등을 위해 사용된다.

* 참고: <https://www.itworld.co.kr/news/105740>

----------------------------------------------------------------------

## 5. 디페이스(Deface)
#### deface라는 영어 단어는 외관을 훼손하다라는 뜻이다. deface 공격이란 웹사이트의 첫 화면, 즉 홈페이지 또는 전광판 등을 해커가 마음대로 바꾸고 해킹을 성공했음을 알리는 것이다. 일반적으로 공격 사실 자체를 숨기기 위해서 로그 등을 지우는 행위와 전혀 다른데, 이는 디페이스가 주로 정치적 메시지를 전달하거나 해킹을 성공했다는 실력 과시용으로 활용되기 때문이다.
#### 랜섬웨어와 같이 돈을 요하는 공격보다는 심각한 공격이 아닌 것 같지만, 결국 디페이스 공격이 성공하기 위해선 내부 서버에 취약점이 존재해야 가능하다. 따라서 디페이스는 해커의 장난 정도로 무시할 것이 아니다.
![디페이스 예시](http://m.ddaily.co.kr/data/photos/cdn/20170309/art_1488682857.jpg)

* 참고: <https://www.boannews.com/media/view.asp?idx=55936> , <https://www.boannews.com/media/view.asp?idx=97036>

----------------------------------------------------------------------

## 6. xxe injection과 Billion laughs attack(xml lol)
#### 2017, 2020 OWASP top 10에 등록된 Xml eXternal Entities(XXE) 취약점을 활용한 공격이다. XXE 취약점이란 XML 타입의 데이터 웹 요청을 통해 전송 시 서버에서 XML 외부 엔티티 처리를 가능하게 되는 경우에 발생한다. XML을 통해 사용자가 웹 어플리케이션으로 전달되는 XML 데이터를 직접 업로드나 수정이 가능하게 되는데 이에 대한 입력값 검증 등이 제대로 이루어지지 않으면 발생한다.
#### 2020년도 정보보안기사에 나온 xml injection attack에 대한 예시 코드로는 다음과 같다. (/etc 디렉터리 하위에 passwd 파일은 리눅스/유닉스 시스템에서 계정 정보를 담고 있는 파일이다.)

    <!DOCTYPE foo [
    <!ENTITY xxe SYSTEM "file:///etc/passwd">
    ]>

#### billion laughs attack은 lol을 lol1~9가 재귀적으로 참조해서 결과적으로는 10억개의 lol을 생성해낸다. 코드로 구현하면 간단하지만 결과적으로 생성되는 문자열은 상당히 크게 때문에 효율적인 DOS공격이기도 하다. 예시 코드는 다음과 같다.

    <?xml version="1.0"?>
    <!DOCTYPE lolz [
    <!ENTITY lol "lol">
    <!ELEMENT lolz (#PCDATA)>
    <!ENTITY lol1 "&lol;&lol;&lol;&lol;&lol;&lol;&lol;&lol;&lol;&lol;">
    <!ENTITY lol2 "&lol1;&lol1;&lol1;&lol1;&lol1;&lol1;&lol1;&lol1;&lol1;&lol1;">
    <!ENTITY lol3 "&lol2;&lol2;&lol2;&lol2;&lol2;&lol2;&lol2;&lol2;&lol2;&lol2;">
    <!ENTITY lol4 "&lol3;&lol3;&lol3;&lol3;&lol3;&lol3;&lol3;&lol3;&lol3;&lol3;">
    <!ENTITY lol5 "&lol4;&lol4;&lol4;&lol4;&lol4;&lol4;&lol4;&lol4;&lol4;&lol4;">
    <!ENTITY lol6 "&lol5;&lol5;&lol5;&lol5;&lol5;&lol5;&lol5;&lol5;&lol5;&lol5;">
    <!ENTITY lol7 "&lol6;&lol6;&lol6;&lol6;&lol6;&lol6;&lol6;&lol6;&lol6;&lol6;">
    <!ENTITY lol8 "&lol7;&lol7;&lol7;&lol7;&lol7;&lol7;&lol7;&lol7;&lol7;&lol7;">
    <!ENTITY lol9 "&lol8;&lol8;&lol8;&lol8;&lol8;&lol8;&lol8;&lol8;&lol8;&lol8;">
    ]>
    <lolz>&lol9;</lolz>

* 참고: <https://gist.github.com/jordanpotti/04c54f7de46f2f0f0b4e6b8e5f5b01b0>, <https://leeminki.github.io/webhack/2019/02/26/WebHack_Study_20.html>

----------------------------------------------------------------------

## 7. BEAST/CRIME Attacks(CRIME is a successor of the BEAST)
#### 간단하게 말하면 https나 SPDY(CRIME의 경우) 통신에서 쿠키를 탈취하여 세션을 탈취하는 행위를 말한다.
#### BEAST는 TLSv 1.0에서 취약했고, 1.2에서는 더이상 취약하지 않는다고 한다. 공격은 다음과 같이 이루어진다. 1) 악성 스크립트를 통해 암호화된 쿠키가 포함된 패킷을 탈취한다. 2) 암호화 알고리즘의 취약점을 이용한다. CBC(Cipher Block Chaining)와 같은 안전한 암호화를 사용하지 않으면 평문에서 반복되어 있는 패턴이 암호 패턴에서도 반복된다. 3) IV(Intialized Vector)를 찾아내고 암호화된 패킷을 복호화한다. 이와 같은 방식을 통해 쿠키를 탈취하고 세션 하이재킹을 위한 준비가 가능하게 된다.
#### CRIME은 2단계에서 무차별 공격(brute force attack)을 이용해 세션 복호화에 성공한다. 이 무차별 공격은 SSL/TSL나 SPDY에서 사용되는 압축 알고리즘인 DEFLATE를 무력화시킴으로써 성공한다.
#### 이 두 공격을 막는 가장 좋은 방법은 TLS 1.0을 사용하지 않는 것이다. CRIME과 같은 경우 암호화 이전에 압축을 사용하지 않는 것도 좋은 방법이다. 또는 CBC 암호화를 이용하든가.

* 참고: <https://resources.infosecinstitute.com/topic/beast-vs-crime-attack/>

----------------------------------------------------------------------

## 8. 공급망 공격(supply chain attack) / 서드 파티 공격(third party attack)
#### 공급망 공격이란 공급망(생산부터 제조, 배포, 업데이트까지 일련의 과정)에 침투하여 소프트웨어나 하드웨어를 변조하는 공격 방식을 말한다. 공급망 공격을 위해서는 개발환경 침투와 업데이트 서버 침투, 크게 이 두 가지 전략이 있다. 공급망 공격이 (공격자에게) 좋은 점은 서버에 침투하여 변조만 시키면 피해자에게 배포는 자동적으로 일어나므로 공격자 본인이 모든 피해자와 직접 접촉할 일이 없게 된다.
#### KISA 보고서에 따른 다양한 공급망 공격 침해사고 분석한 결과에는 공통점들이 있다. 첫째, 공격자는 변조된 악성 파일들에 의해 1차 악성코드에 감염된 PC의 IP, MAC, DNS 등의 정보를 확인하여 최종 공격 대상을 선별한 후 추가 페이로드를 전송했다. 둘째, 쉘코드 디코딩 알고리즘으로 PlugX 계열 원격제어 악성코드 알고리즘을 사용했다. 셋째, 공격자는 변조된 업데이트 파일의 탐지를 회피하기 위해 C 런타임 코드를 변조하여 쉘코드 디코딩 함수를 삽입했다. 넷째, 감염된 PC가 서버 장악 및 최종 페이로드를 다운로드받기 위한 목적으로 ShadowPad 악성코드를 사용하였다. 다섯째, 공격자는 서버 침투 사실을 은닉하기 위해 리눅스 서버내 특정 명령어 파일을 변조하여, 명령어 실행 시 공격자의 IP를 제외한 결과를 출력시켰다.
#### 공격망 공격은 초기 침투 - 실행 - 지속 - 권한 상승 - 탐지 회피 - 내부 확산 - 탐색 - 수집 - 명령 및 제어 - 유출과 같은 일련의 과정을 거친다.
#### 공급망 공격 대응 방법에는 인증서 및 개발 시스템 관리와 업데이트 체계 관리와 같은 방법이 있다. 즉, 배포하는 서버의 관리가 중요하다. 

* 참고: <https://www.itworld.co.kr/news/170719> , <https://www.boho.or.kr/data/reportView.do?bulletin_writing_sequence=35089>

----------------------------------------------------------------------

## 9. 크리덴셜 스터핑(Credential Stuffing)
#### 크리덴셜 스터핑은 무작위 대입 공격(Brute Force attack) 기법의 하나로 공격자가 미리 확보해놓은 로그인 자격증명(크리덴셜)을 다른 계정에 무작위로 대입(스터핑) 해보며 사용자의 계정을 탈취하는 공격 방식을 말한다. 이는 인터넷 사용자들이 동일한 아이디 패스워드를 여러 사이트에서 사용한다는 점을 노린 것이다. 일정 수준 이상의 규모를 가진 인터넷 서비스 기업들은 상당한 수준의 보안 체계를 구축하고 있지만, 작은 웹사이트들은 별다른 보안 체계를 구축하지 않은 경우가 많다. 이를 통해 동일한 아이디와 패스워드를 반복해서 사용하는 경우, 공격자가 작은 웹사이트에서 얻은 정보를 튼튼한 웹사이트를 뚫는데 이용될 수 있다.
#### 크리덴셜 스터핑의 징조로는 제한된 시간 동안 수많은 계정에서 동시 로그인을 시도하면서 트래픽에 변화가 발생하거나, 사이트 트래픽이 한 순간 증가하면서 다운타임이 생긴다. 또한 평소보다 로그인 실패 빈도수가 높아지기도 한다.
#### 크리덴셜 스터핑의 대응법에는 사이트마다 복잡하고 각기 다른 비밀번호를 사용하며 주기적으로 변경해주는 방법이 있지만, 현실적으로 귀찮아서 지켜지기 힘든 방법이다. 또다른 대응 방안에는 다단계 인증(Multi-Factor Authentication) 이용, CAPTCHA 사용, 다채널 인증(Multi-Channel Authentication) 등이 있다.

* 참고: <https://www.samsungsemiconstory.com/2187> , <https://blog.alyac.co.kr/2699> , <http://blog.plura.io/?p=13094>

-------------------------------------------------------------------


## 10. 크립토재킹(Cryptojacking)
#### 비트코인과 같은 암호화폐는 작업증명(PoW)을 통해서 새로운 코인을 발굴할 수 있다. 이때 엄청난 양의 계산과 전기가 필요하다. (높은 컴퓨팅 파워가 필요한)작업증명을 본인 컴퓨터에서만 하는 것이 아니라 컴퓨터를 감염시키고 그 피해자 컴퓨터에서도 암호화폐를 채굴하는 것을 크립토재킹이라고 한다. 덕분에 공격자는 저위험, 저비용으로 마이닝을 성공할 수 있게 된다.
#### 크립토재킹의 공격방법에는 암호화폐 채굴 악성코드를 피해자 컴퓨터에 침투시키는 것뿐만 아니라 웹기반 크립토재킹(또는 Drive-By-Mining)이라 하여 웹 사이트를 머무는 동안 자동으로 컴퓨터가 마이닝하도록 만드는 방법도 있다. 한편, 마이너를 와이파이에 스크립트를 삽입시키는 방법, 유튜브 광고에 삽입시키는 방법 등등 다양한 감염경로가 있다.
#### 크립토재킹에 대응하기 위한 방안은 크게 네트워크 수준에서의 공격 방어, 엔드포인트 수준의 방어 등으로 분류할 수 있다. 네트워크에서 의심스러운 동작을 모니터링하여 찾아내거나, 시스템과 CPU의 변동 및 변경 사항을 모니터링하여 승인된 변경인지 아닌지 찾아내는 방식들이다. 또는 기존의 취약점 대응방안과 비슷하게 웹브라우저 확장 프로그램을 설치하거나 이메일 첨부 파일과 링크를 조심하거나 소프트웨어 애플리케이션 및 OS를 최신 상태로 업데이트 하는 등의 방식도 있다.

* 참고: <https://academy.binance.com/ko/articles/what-is-cryptojacking> , <https://www.itworld.co.kr/news/109410> , <https://www.comworld.co.kr/news/articleView.html?idxno=49809>

----------------------------------------------------------------------

## 11. 디셉션(Deception)
#### 공격자를 속이는 기만기술인 디셉션 기술은 사이버 상의 공격자가 서버 또는 시스템을 공격할 때 유인하는 함정으로 만들어졌던 허니팟(HoneyPot, 라이선스 문제, 복잡성, 유연성이 부족해 대중화되진 못했음)이 변화한 형태다. 사이버 디셉션 기술의 목적은 기존 솔루션으로는 탐지와 방어가 불가능한 새로운 유형의 공격과 정교한 공격, 내부에서의 공격 등을 탐지하는 것으로 보안 운영 센터가 위협에 신속하게 대처하는데 필요한 모든 기능에 대한 지원이 가능하다. 기존의 수동형 방어 기술은 공격을 탐지하는 수준으로 해킹당한 사실을 인지하는데도 한참 걸렸다면, 디셉션은 공격 대상이 되는 모든 것을 모방 및 위장하는 능동 방식으로 해킹 시도를 실시간으로 파악할 수 있다.

* 참고: <https://www.comworld.co.kr/news/articleView.html?idxno=49809> , <http://ilikeit.kr/bbs/board.php?bo_table=review_it&wr_id=484>

----------------------------------------------------------------------

## 12. SPF(메일서버등록제, Sender Policy Framework)
#### 메일서버 정보를 사전에 DNS에 txt 레코드로 공개 등록함으로써 수신자로 하여금 이메일에 표시된 발송자 정보가 실제 메일서버의 정보와 일치하는지를 확인할 수 있도록 하는 인증기술을 말한다. 스팸 메일은 보통 발신지를 위조해서 보내는 경우가 많기 때문에 이를 이용해서 스팸메일을 차단하는 방식이다. 단, 스팸 발신자가 도메인을 만들고 도메인이 합법적인 것처럼 보이게 만드는 SPF 레코드를 추가하는 일은 쉽기 때문에 오히려 역이용될 수도 있다.
#### SPF 레코드 처리 결과로는 Pass(domain 사용이 인증되었음), Fail(domain 사용 권한이 레코드에서 명시적으로 거부), SoftFail(domain 사용 인증이 거부되었지만 거부가 덜 명확해서 바로 실패로 확인되지는 않음), Neutral(SPF 레코드에서 SMTP 클라이언트의 domain 사용 인증을 요구하지 않아 메시지를 수용), None(일치하는 SPF 레코드를 찾지 못해 SPF 처리가 수행되지 않음), PermError( SPF 레코드의 구문 오류, 중첩된 SPF 레코드 처리 중의 DNS 실패 또는 중첩된 SPF 레코드 처리 중에 구성된 SPF 처리 제한 초과 등의 영구적인 오류발생), TempError(임시 오류가 발생)이 있다.   

* 참고: <https://docs.oracle.com/cd/E19957-01/820-0512/gdpno/index.html> , <https://spam.kisa.or.kr/white/sub1_2.do>

----------------------------------------------------------------------

## 13. 수리카타(Suricata)
#### 수리카타는 오픈소스 IDS 시스템의 한 종류이다. snort의 단일 스레드 처리방식이라 많은 데이터를 처리하기엔 느리다는 단점을 보완하여 멀티 코어와 멀티 스레드 처리방식을 지원한다. 또한 snort의 룰이 호환되어 사용 가능하다는 장점이 있다.

###### 다음 사진은 snort와 suricata를 비교한 사진이다.
![snort suricata 비교](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FwlEDe%2FbtqFWekLQj6%2FeGoBpfjL1jBbjkr0tgZZO1%2Fimg.png)

* 참고: <https://saynot.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-Suricata%EC%88%98%EB%A6%AC%EC%B9%B4%ED%83%80-%EA%B3%B5%EB%B6%80> , <https://suricata-ids.org/>

----------------------------------------------------------------------
